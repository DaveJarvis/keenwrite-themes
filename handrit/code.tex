% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%
% Configure source code (monospace typewriter text).
%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% Expand a dark-themed pseudo-terminal to fit the page width. Tertiary
% colours are shades and primary colour is for text: swapping the colours
% produces light text on a dark background.
\setuplines[preformatted][
  before={\startframedtext[
    background=color,
    backgroundcolor=TextColourPrimaryDk,
    foregroundcolor=TextColourTertiaryLt,
    width=\textwidth,
    corner=round,
  ]},
  after={\stopframedtext},
]

\definestartstop[terminal][
  style=\tt,
  before={\startpreformatted},
  after={\stoppreformatted},
]

