% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%
% Map ordered (enumerated) and unordered (bullet) lists to macros
%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\startxmlsetups xml:ol
  \xmldoifelse{#1}{/li/p} {%
    \doifnumberelse{\xmlatt{#1}{start}} 
      {\startitemize[n][start=\xmlatt{#1}{start}]}
      {\startitemize[n]}
  } {%
    \doifnumberelse{\xmlatt{#1}{start}} 
      {\startitemize[n,packed][start=\xmlatt{#1}{start}]}
      {\startitemize[n,packed]}
  }
    \xmlflush{#1}
  \stopitemize
\stopxmlsetups

\startxmlsetups xml:ul
  \xmldoifelse{#1}{/li/p}
    {\startitemize} 
    {\startitemize[packed]}
    \xmlflush{#1}
  \stopitemize
\stopxmlsetups

\startxmlsetups xml:li
  \startitem \xmlflush{#1} \stopitem
\stopxmlsetups

% Default description list style; override in theme, if needed.
\definedescription[description][
  hang=fit,
  width=fit,
  headstyle=bold,
  align=justify,
  margin=yes,
]

\startxmlsetups xml:dl
  \xmlflush{#1}
\stopxmlsetups

\startxmlsetups xml:dt
  \startdescription{\xmlflush{#1}}
\stopxmlsetups

\startxmlsetups xml:dd
    \xmlflush{#1}
  \stopdescription
\stopxmlsetups

